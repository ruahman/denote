#+title:      files
#+date:       [2023-05-27 Sat 00:41]
#+filetags:   :javascript:nodejs:tech:
#+identifier: 20230527T004133

#+begin_src js
  const fs = require('fs');

  fs.readFile('/path/to/file.txt', (err, data) => {
      if(err) throw err;
      console.log(data.toString());
  });

  process.on('uncaughtException', err => {
      console.log('sfdja;slfkj', err);
      process.exit(1);
  });
#+end_src

==async==

#+begin_src js
  const filePromises = require('fs').promises;

  // with wait, the logic is like sync,
  // wait is only in aysnc files
  const fileOps = aysnc () => {
      try {
	  const data = await filePromises.readFile('path/to/fil');
	  console.log(data);
      } catch (err) {
	  console.log(err)
      }
  }

  // this runs async
  fileOps();
#+end_src
